# AI System Configuration
# Copy this to your main .env file and configure as needed

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/disable AI report generation globally
AI_ENABLED=true

# Enable automatic generation when new reports are created
AI_AUTO_GENERATE=false

# Enable batch generation endpoints (use with caution)
AI_BATCH_ENABLED=false

# Collect user feedback on AI reports
AI_COLLECT_FEEDBACK=true

# Use deterministic fallback if AI fails (vs returning error)
AI_USE_FALLBACK=true

# ============================================
# MODEL CONFIGURATION
# ============================================

# OpenAI API Key (required if using OpenAI)
OPENAI_API_KEY=your_openai_api_key_here

# Generator Model Configuration
AI_GENERATOR_PROVIDER=openai
AI_GENERATOR_MODEL=gpt-4o
AI_GENERATOR_TEMPERATURE=0.3
AI_GENERATOR_MAX_TOKENS=1000

# Evaluator Model Configuration (use smaller/cheaper model)
AI_EVALUATOR_PROVIDER=openai
AI_EVALUATOR_MODEL=gpt-4o-mini
AI_EVALUATOR_TEMPERATURE=0.1
AI_EVALUATOR_MAX_TOKENS=500

# ============================================
# COST CONTROL
# ============================================

# Maximum cost per single report generation (USD)
AI_MAX_COST_PER_REPORT=0.10

# Maximum monthly AI spend (USD)
AI_MAX_MONTHLY_COST=100

# Maximum retries if evaluation fails
AI_MAX_RETRIES=1

# Rate limit: Maximum reports per hour
AI_MAX_REPORTS_PER_HOUR=60

# Alert when monthly spend reaches this % of budget
AI_ALERT_THRESHOLD=80

# ============================================
# QUALITY SETTINGS
# ============================================

# Minimum score to accept AI output (0-10)
AI_PASS_SCORE=8.0

# Minimum score to retry (below this, use fallback immediately)
AI_RETRY_SCORE=6.0

# Maximum age of cached AI report (days)
AI_CACHE_MAX_AGE_DAYS=30

# Minimum days before allowing regeneration
AI_MIN_REGENERATION_DAYS=7

# ============================================
# PROMPT CUSTOMIZATION
# ============================================

# Tone: "professional", "casual", "technical"
AI_TONE=professional

# Maximum words in executive summary
AI_SUMMARY_MAX_WORDS=150

# Number of insights to generate
AI_INSIGHT_COUNT=5

# Number of actions to generate
AI_ACTION_COUNT=5

# ============================================
# LOGGING & MONITORING
# ============================================

# Log all AI requests
AI_LOG_REQUESTS=true

# Log token usage
AI_LOG_TOKENS=true

# Log costs
AI_LOG_COSTS=true

# Send alerts on failures (requires alert system)
AI_ALERT_ON_FAILURE=false
